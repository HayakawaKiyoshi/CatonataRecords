<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout/LayoutTile">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link rel="stylesheet" media="all" th:href="@{/css/bootstrap.min.css}" />
<link rel="stylesheet" media="all" th:href="@{/css/style.css}" />
<title>マイページ</title>
</head>
<body>
	<div layout:fragment="content">
		<div id="content_bar">マイページ</div>
		<div>
			<p id="sub_content_bar">ユーザー情報</p>
			<table class="table table-striped table-bordered">
				<tr>
					<th>氏名</th>
					<th>ID</th>
					<th>年齢</th>
					<th>性別</th>
					<th>生年月日</th>
					<th>住所</th>
					<th>メールアドレス</th>
				</tr>
				<th:block th:object="${session.LoginUser}">
					<tr>
						<td><span th:text="*{name}"></span></td>
						<td><span th:text="*{id}"></span></td>
						<td><span th:text="*{age}"></span></td>
						<td><span th:text="*{gender}"></span></td>
						<td><span th:text="*{birthday}"></span></td>
						<td><span th:text="*{address}"></span></td>
						<td><span th:text="*{email}"></span></td>
					</tr>
			</table>
			        <form action="/mypageUpdate" method="post" th:object="${session.LoginUser}">
				        <input type="hidden" name="name" th:value="*{name}">
				        <input type="hidden" name="password" th:value="*{password}">
				        <input type="submit" value="変更" class="btn btn-outline-primary">
			        </form>
			     </th:block>

			<p th:text="${msg}" style="color: red;"></p>
			<p id="sub_content_bar">購入履歴</p>
			<div>
				<table class="table table-striped table-bordered">
					<tr>
						<th>購入日</th>
						<th>配送日</th>
						<th>商品名</th>
						<th>アーティスト</th>
						<th>商品媒体</th>
						<th>価格</th>
						<th>レコード会社</th>
					</tr>
					<th:block th:each="items : ${purchase}">
						<tr>
							<td><span th:text="${items.purchase_date}">1</span></td>
							<td><span th:text="${items.delivery_date}">2</span></td>
							<td><span th:text="${items.pro_name}">3</span></td>
							<td><span th:text="${items.artist}">4</span></td>
							<td><span th:text="${items.media}">5</span></td>
							<td><span th:text="${items.price}">6</span></td>
							<td><span th:text="${items.label}">7</span></td>
						</tr>
					</th:block>
				</table>
			</div>
			<!-- 退会ボタン  -->
			<form action="/mypageUpdate/delete/Check" method="post" th:object="${session.LoginUser}">
				<input type="hidden" name="name" th:value="*{name}">
				<input type="hidden" name="pass" th:value="*{password}">
				<input type="submit" value="退会" class="btn btn-outline-danger">
			</form>
		</div>
	</div>
</body>
</html>